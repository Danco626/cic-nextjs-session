"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...auth0]";
exports.ids = ["pages/api/auth/[...auth0]"];
exports.modules = {

/***/ "@auth0/nextjs-auth0":
/*!**************************************!*\
  !*** external "@auth0/nextjs-auth0" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("@auth0/nextjs-auth0");

/***/ }),

/***/ "(api)/./pages/api/auth/[...auth0].js":
/*!**************************************!*\
  !*** ./pages/api/auth/[...auth0].js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @auth0/nextjs-auth0 */ \"@auth0/nextjs-auth0\");\n/* harmony import */ var _auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__);\n\n//import getAuth0 from '../../../utils/customsessionstore';\nconst afterCallback = (req, res, session, state)=>{\n    console.log(session);\n    if (session.accessTokenScope.includes(\"offline_access\")) {\n        session.user.apiAcessToken = {\n            accessToken: session.accessToken,\n            accessTokenExpiresAt: session.accessTokenExpiresAt,\n            refresh: session.refreshToken\n        };\n    }\n    if (session.accessTokenScope.includes(\"enroll\")) {\n        session.user.mfaAccessToken = {\n            accessToken: session.accessToken,\n            accessTokenExpiresAt: session.accessTokenExpiresAt\n        };\n    }\n    console.log(\"in callback\");\n    return session;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__.handleAuth)({\n    login: async (req, res)=>{\n        try {\n            console.log(req);\n            const authParams = req.query.mfa ? {\n                audience: \"https://danco.auth0.com/mfa/\",\n                scope: \"openid profile email enroll read:authenticators remove:authenticators\"\n            } : {\n                audience: \"https://expenses-api\",\n                scope: \"openid profile email read:reports offline_access\"\n            };\n            await (0,_auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__.handleLogin)(req, res, {\n                authorizationParams: authParams\n            });\n        } catch (error) {\n            console.error(error);\n        }\n    },\n    async callback (req, res) {\n        try {\n            await (0,_auth0_nextjs_auth0__WEBPACK_IMPORTED_MODULE_0__.handleCallback)(req, res, {\n                afterCallback\n            });\n        } catch (error) {\n            res.status(error.status || 500).end();\n        }\n    }\n})); // //import { handleAuth, handleCallback, handleLogin } from \"@auth0/nextjs-auth0\";\n // import getAuth0 from '../../../utils/customsessionstore';\n // const afterCallback = (req, res, session, state) => {\n //   console.log(session);\n //   if (session.accessTokenScope.includes(\"offline_access\")) {\n //     session.user.apiAcessToken = {\n //       accessToken: session.accessToken,\n //       accessTokenExpiresAt: session.accessTokenExpiresAt,\n //       refresh: session.refreshToken,\n //     };\n //   }\n //   if (session.accessTokenScope.includes(\"enroll\")) {\n //     session.user.mfaAccessToken = {\n //       accessToken: session.accessToken,\n //       accessTokenExpiresAt: session.accessTokenExpiresAt,\n //     };\n //   }\n //   console.log(\"in callback\");\n //   return session;\n // };\n // export default getAuth0().handleAuth({\n //   login: async (req, res) => {\n //     try {\n //       console.log(req);\n //       const authParams = req.query.mfa\n //         ? {\n //             audience: \"https://danco.auth0.com/mfa/\",\n //             scope:\n //               \"openid profile email enroll read:authenticators remove:authenticators\",\n //           }\n //         : {\n //             audience: \"https://expenses-api\",\n //             scope: \"openid profile email read:reports offline_access\",\n //           };\n //       await getAuth0().handleLogin(req, res, {\n //         authorizationParams: authParams,\n //       });\n //     } catch (error) {\n //       console.error(error);\n //     }\n //   },\n //   async callback(req, res) {\n //     try {\n //       await getAuth0().handleCallback(req, res, { afterCallback });\n //     } catch (error) {\n //       res.status(error.status || 500).end();\n //     }\n //   },\n // });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9bLi4uYXV0aDBdLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4RTtBQUM5RSwyREFBMkQ7QUFFM0QsTUFBTUcsZ0JBQWdCLENBQUNDLEtBQUtDLEtBQUtDLFNBQVNDLFFBQVU7SUFDbERDLFFBQVFDLEdBQUcsQ0FBQ0g7SUFFWixJQUFJQSxRQUFRSSxnQkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDLG1CQUFtQjtRQUN2REwsUUFBUU0sSUFBSSxDQUFDQyxhQUFhLEdBQUc7WUFDM0JDLGFBQWFSLFFBQVFRLFdBQVc7WUFDaENDLHNCQUFzQlQsUUFBUVMsb0JBQW9CO1lBQ2xEQyxTQUFTVixRQUFRVyxZQUFZO1FBQy9CO0lBQ0YsQ0FBQztJQUVELElBQUlYLFFBQVFJLGdCQUFnQixDQUFDQyxRQUFRLENBQUMsV0FBVztRQUMvQ0wsUUFBUU0sSUFBSSxDQUFDTSxjQUFjLEdBQUc7WUFDNUJKLGFBQWFSLFFBQVFRLFdBQVc7WUFDaENDLHNCQUFzQlQsUUFBUVMsb0JBQW9CO1FBQ3BEO0lBQ0YsQ0FBQztJQUNEUCxRQUFRQyxHQUFHLENBQUM7SUFDWixPQUFPSDtBQUNUO0FBRUEsaUVBQWVOLCtEQUFVQSxDQUFDO0lBQ3hCbUIsT0FBTyxPQUFPZixLQUFLQyxNQUFRO1FBQ3pCLElBQUk7WUFDRkcsUUFBUUMsR0FBRyxDQUFDTDtZQUNaLE1BQU1nQixhQUFhaEIsSUFBSWlCLEtBQUssQ0FBQ0MsR0FBRyxHQUM1QjtnQkFDRUMsVUFBVTtnQkFDVkMsT0FDRTtZQUNKLElBQ0E7Z0JBQ0VELFVBQVU7Z0JBQ1ZDLE9BQU87WUFDVCxDQUFDO1lBQ0wsTUFBTXRCLGdFQUFXQSxDQUFDRSxLQUFLQyxLQUFLO2dCQUMxQm9CLHFCQUFxQkw7WUFDdkI7UUFDRixFQUFFLE9BQU9NLE9BQU87WUFDZGxCLFFBQVFrQixLQUFLLENBQUNBO1FBQ2hCO0lBQ0Y7SUFDQSxNQUFNQyxVQUFTdkIsR0FBRyxFQUFFQyxHQUFHLEVBQUU7UUFDdkIsSUFBSTtZQUNGLE1BQU1KLG1FQUFjQSxDQUFDRyxLQUFLQyxLQUFLO2dCQUFFRjtZQUFjO1FBQ2pELEVBQUUsT0FBT3VCLE9BQU87WUFDZHJCLElBQUl1QixNQUFNLENBQUNGLE1BQU1FLE1BQU0sSUFBSSxLQUFLQyxHQUFHO1FBQ3JDO0lBQ0Y7QUFDRixFQUFFLEVBQUMsQ0FLSCxtRkFBbUY7Q0FDbkYsNERBQTREO0NBRTVELHdEQUF3RDtDQUN4RCwwQkFBMEI7Q0FFMUIsK0RBQStEO0NBQy9ELHFDQUFxQztDQUNyQywwQ0FBMEM7Q0FDMUMsNERBQTREO0NBQzVELHVDQUF1QztDQUN2QyxTQUFTO0NBQ1QsTUFBTTtDQUVOLHVEQUF1RDtDQUN2RCxzQ0FBc0M7Q0FDdEMsMENBQTBDO0NBQzFDLDREQUE0RDtDQUM1RCxTQUFTO0NBQ1QsTUFBTTtDQUNOLGdDQUFnQztDQUNoQyxvQkFBb0I7Q0FDcEIsS0FBSztDQUVMLHlDQUF5QztDQUN6QyxpQ0FBaUM7Q0FDakMsWUFBWTtDQUNaLDBCQUEwQjtDQUMxQix5Q0FBeUM7Q0FDekMsY0FBYztDQUNkLHdEQUF3RDtDQUN4RCxxQkFBcUI7Q0FDckIseUZBQXlGO0NBQ3pGLGNBQWM7Q0FDZCxjQUFjO0NBQ2QsZ0RBQWdEO0NBQ2hELHlFQUF5RTtDQUN6RSxlQUFlO0NBQ2YsaURBQWlEO0NBQ2pELDJDQUEyQztDQUMzQyxZQUFZO0NBQ1osd0JBQXdCO0NBQ3hCLDhCQUE4QjtDQUM5QixRQUFRO0NBQ1IsT0FBTztDQUNQLCtCQUErQjtDQUMvQixZQUFZO0NBQ1osc0VBQXNFO0NBQ3RFLHdCQUF3QjtDQUN4QiwrQ0FBK0M7Q0FDL0MsUUFBUTtDQUNSLE9BQU87Q0FDUCxNQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aDAtbmV4dGpzLXNhbXBsZS8uL3BhZ2VzL2FwaS9hdXRoL1suLi5hdXRoMF0uanM/NTQ1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYW5kbGVBdXRoLCBoYW5kbGVDYWxsYmFjaywgaGFuZGxlTG9naW4gfSBmcm9tIFwiQGF1dGgwL25leHRqcy1hdXRoMFwiO1xuLy9pbXBvcnQgZ2V0QXV0aDAgZnJvbSAnLi4vLi4vLi4vdXRpbHMvY3VzdG9tc2Vzc2lvbnN0b3JlJztcblxuY29uc3QgYWZ0ZXJDYWxsYmFjayA9IChyZXEsIHJlcywgc2Vzc2lvbiwgc3RhdGUpID0+IHtcbiAgY29uc29sZS5sb2coc2Vzc2lvbik7XG5cbiAgaWYgKHNlc3Npb24uYWNjZXNzVG9rZW5TY29wZS5pbmNsdWRlcyhcIm9mZmxpbmVfYWNjZXNzXCIpKSB7XG4gICAgc2Vzc2lvbi51c2VyLmFwaUFjZXNzVG9rZW4gPSB7XG4gICAgICBhY2Nlc3NUb2tlbjogc2Vzc2lvbi5hY2Nlc3NUb2tlbixcbiAgICAgIGFjY2Vzc1Rva2VuRXhwaXJlc0F0OiBzZXNzaW9uLmFjY2Vzc1Rva2VuRXhwaXJlc0F0LFxuICAgICAgcmVmcmVzaDogc2Vzc2lvbi5yZWZyZXNoVG9rZW4sXG4gICAgfTtcbiAgfVxuXG4gIGlmIChzZXNzaW9uLmFjY2Vzc1Rva2VuU2NvcGUuaW5jbHVkZXMoXCJlbnJvbGxcIikpIHtcbiAgICBzZXNzaW9uLnVzZXIubWZhQWNjZXNzVG9rZW4gPSB7XG4gICAgICBhY2Nlc3NUb2tlbjogc2Vzc2lvbi5hY2Nlc3NUb2tlbixcbiAgICAgIGFjY2Vzc1Rva2VuRXhwaXJlc0F0OiBzZXNzaW9uLmFjY2Vzc1Rva2VuRXhwaXJlc0F0LFxuICAgIH07XG4gIH1cbiAgY29uc29sZS5sb2coXCJpbiBjYWxsYmFja1wiKTtcbiAgcmV0dXJuIHNlc3Npb247XG59O1xuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVBdXRoKHtcbiAgbG9naW46IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhyZXEpO1xuICAgICAgY29uc3QgYXV0aFBhcmFtcyA9IHJlcS5xdWVyeS5tZmFcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBhdWRpZW5jZTogXCJodHRwczovL2RhbmNvLmF1dGgwLmNvbS9tZmEvXCIsXG4gICAgICAgICAgICBzY29wZTpcbiAgICAgICAgICAgICAgXCJvcGVuaWQgcHJvZmlsZSBlbWFpbCBlbnJvbGwgcmVhZDphdXRoZW50aWNhdG9ycyByZW1vdmU6YXV0aGVudGljYXRvcnNcIixcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgYXVkaWVuY2U6IFwiaHR0cHM6Ly9leHBlbnNlcy1hcGlcIixcbiAgICAgICAgICAgIHNjb3BlOiBcIm9wZW5pZCBwcm9maWxlIGVtYWlsIHJlYWQ6cmVwb3J0cyBvZmZsaW5lX2FjY2Vzc1wiLFxuICAgICAgICAgIH07XG4gICAgICBhd2FpdCBoYW5kbGVMb2dpbihyZXEsIHJlcywge1xuICAgICAgICBhdXRob3JpemF0aW9uUGFyYW1zOiBhdXRoUGFyYW1zLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgY2FsbGJhY2socmVxLCByZXMpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgaGFuZGxlQ2FsbGJhY2socmVxLCByZXMsIHsgYWZ0ZXJDYWxsYmFjayB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyhlcnJvci5zdGF0dXMgfHwgNTAwKS5lbmQoKTtcbiAgICB9XG4gIH0sXG59KTtcblxuXG5cblxuLy8gLy9pbXBvcnQgeyBoYW5kbGVBdXRoLCBoYW5kbGVDYWxsYmFjaywgaGFuZGxlTG9naW4gfSBmcm9tIFwiQGF1dGgwL25leHRqcy1hdXRoMFwiO1xuLy8gaW1wb3J0IGdldEF1dGgwIGZyb20gJy4uLy4uLy4uL3V0aWxzL2N1c3RvbXNlc3Npb25zdG9yZSc7XG5cbi8vIGNvbnN0IGFmdGVyQ2FsbGJhY2sgPSAocmVxLCByZXMsIHNlc3Npb24sIHN0YXRlKSA9PiB7XG4vLyAgIGNvbnNvbGUubG9nKHNlc3Npb24pO1xuXG4vLyAgIGlmIChzZXNzaW9uLmFjY2Vzc1Rva2VuU2NvcGUuaW5jbHVkZXMoXCJvZmZsaW5lX2FjY2Vzc1wiKSkge1xuLy8gICAgIHNlc3Npb24udXNlci5hcGlBY2Vzc1Rva2VuID0ge1xuLy8gICAgICAgYWNjZXNzVG9rZW46IHNlc3Npb24uYWNjZXNzVG9rZW4sXG4vLyAgICAgICBhY2Nlc3NUb2tlbkV4cGlyZXNBdDogc2Vzc2lvbi5hY2Nlc3NUb2tlbkV4cGlyZXNBdCxcbi8vICAgICAgIHJlZnJlc2g6IHNlc3Npb24ucmVmcmVzaFRva2VuLFxuLy8gICAgIH07XG4vLyAgIH1cblxuLy8gICBpZiAoc2Vzc2lvbi5hY2Nlc3NUb2tlblNjb3BlLmluY2x1ZGVzKFwiZW5yb2xsXCIpKSB7XG4vLyAgICAgc2Vzc2lvbi51c2VyLm1mYUFjY2Vzc1Rva2VuID0ge1xuLy8gICAgICAgYWNjZXNzVG9rZW46IHNlc3Npb24uYWNjZXNzVG9rZW4sXG4vLyAgICAgICBhY2Nlc3NUb2tlbkV4cGlyZXNBdDogc2Vzc2lvbi5hY2Nlc3NUb2tlbkV4cGlyZXNBdCxcbi8vICAgICB9O1xuLy8gICB9XG4vLyAgIGNvbnNvbGUubG9nKFwiaW4gY2FsbGJhY2tcIik7XG4vLyAgIHJldHVybiBzZXNzaW9uO1xuLy8gfTtcblxuLy8gZXhwb3J0IGRlZmF1bHQgZ2V0QXV0aDAoKS5oYW5kbGVBdXRoKHtcbi8vICAgbG9naW46IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICAgIHRyeSB7XG4vLyAgICAgICBjb25zb2xlLmxvZyhyZXEpO1xuLy8gICAgICAgY29uc3QgYXV0aFBhcmFtcyA9IHJlcS5xdWVyeS5tZmFcbi8vICAgICAgICAgPyB7XG4vLyAgICAgICAgICAgICBhdWRpZW5jZTogXCJodHRwczovL2RhbmNvLmF1dGgwLmNvbS9tZmEvXCIsXG4vLyAgICAgICAgICAgICBzY29wZTpcbi8vICAgICAgICAgICAgICAgXCJvcGVuaWQgcHJvZmlsZSBlbWFpbCBlbnJvbGwgcmVhZDphdXRoZW50aWNhdG9ycyByZW1vdmU6YXV0aGVudGljYXRvcnNcIixcbi8vICAgICAgICAgICB9XG4vLyAgICAgICAgIDoge1xuLy8gICAgICAgICAgICAgYXVkaWVuY2U6IFwiaHR0cHM6Ly9leHBlbnNlcy1hcGlcIixcbi8vICAgICAgICAgICAgIHNjb3BlOiBcIm9wZW5pZCBwcm9maWxlIGVtYWlsIHJlYWQ6cmVwb3J0cyBvZmZsaW5lX2FjY2Vzc1wiLFxuLy8gICAgICAgICAgIH07XG4vLyAgICAgICBhd2FpdCBnZXRBdXRoMCgpLmhhbmRsZUxvZ2luKHJlcSwgcmVzLCB7XG4vLyAgICAgICAgIGF1dGhvcml6YXRpb25QYXJhbXM6IGF1dGhQYXJhbXMsXG4vLyAgICAgICB9KTtcbi8vICAgICB9IGNhdGNoIChlcnJvcikge1xuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4vLyAgICAgfVxuLy8gICB9LFxuLy8gICBhc3luYyBjYWxsYmFjayhyZXEsIHJlcykge1xuLy8gICAgIHRyeSB7XG4vLyAgICAgICBhd2FpdCBnZXRBdXRoMCgpLmhhbmRsZUNhbGxiYWNrKHJlcSwgcmVzLCB7IGFmdGVyQ2FsbGJhY2sgfSk7XG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICAgIHJlcy5zdGF0dXMoZXJyb3Iuc3RhdHVzIHx8IDUwMCkuZW5kKCk7XG4vLyAgICAgfVxuLy8gICB9LFxuLy8gfSk7XG4iXSwibmFtZXMiOlsiaGFuZGxlQXV0aCIsImhhbmRsZUNhbGxiYWNrIiwiaGFuZGxlTG9naW4iLCJhZnRlckNhbGxiYWNrIiwicmVxIiwicmVzIiwic2Vzc2lvbiIsInN0YXRlIiwiY29uc29sZSIsImxvZyIsImFjY2Vzc1Rva2VuU2NvcGUiLCJpbmNsdWRlcyIsInVzZXIiLCJhcGlBY2Vzc1Rva2VuIiwiYWNjZXNzVG9rZW4iLCJhY2Nlc3NUb2tlbkV4cGlyZXNBdCIsInJlZnJlc2giLCJyZWZyZXNoVG9rZW4iLCJtZmFBY2Nlc3NUb2tlbiIsImxvZ2luIiwiYXV0aFBhcmFtcyIsInF1ZXJ5IiwibWZhIiwiYXVkaWVuY2UiLCJzY29wZSIsImF1dGhvcml6YXRpb25QYXJhbXMiLCJlcnJvciIsImNhbGxiYWNrIiwic3RhdHVzIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...auth0].js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/auth/[...auth0].js"));
module.exports = __webpack_exports__;

})();